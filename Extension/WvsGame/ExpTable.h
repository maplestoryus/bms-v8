#include <Windows.h>
#include "../WvsCommon/Hook.h"
namespace ExpTable {

	int levels[200] = {
		0,
		12,
		27,
		45,
		73,
		108,
		297,
		448,
		672,
		993,
		1144,
		1573,
		2144,
		2800,
		3640,
		4700,
		5893,
		7360,
		9144,
		11120,
		13478,
		16268,
		19320,
		22881,
		27009,
		31478,
		36601,
		42446,
		48722,
		55816,
		76560,
		86784,
		98208,
		110932,
		124432,
		139372,
		155865,
		173280,
		192400,
		213345,
		235372,
		259392,
		285532,
		312928,
		342624,
		374760,
		408336,
		444544,
		483532,
		524160,
		567772,
		598885,
		631703,
		666320,
		702834,
		741349,
		781974,
		824826,
		870026,
		917703,
		967993,
		1021039,
		1076991,
		1136010,
		1198263,
		1263927,
		1333190,
		1406248,
		1483310,
		1564595,
		1650334,
		1740772,
		1836166,
		1936787,
		2042922,
		2154874,
		2272961,
		2397519,
		2528903,
		2667486,
		2813664,
		2967852,
		3130490,
		3302040,
		3482991,
		3673858,
		3875185,
		4087545,
		4311542,
		4547814,
		4797034,
		5059911,
		5337194,
		5629672,
		5938178,
		6263590,
		6606834,
		6968888,
		7350783,
		7753605,
		8178502,
		8626683,
		9099425,
		9598073,
		10124047,
		10678844,
		11264044,
		11881313,
		12532408,
		13219183,
		13943594,
		14707702,
		15513684,
		16363833,
		17260571,
		18206450,
		19204163,
		20256551,
		21366609,
		22537499,
		23772553,
		25075288,
		26449413,
		27898840,
		29427696,
		31040333,
		32741343,
		34535568,
		36428117,
		38424377,
		40530032,
		42751077,
		45093836,
		47564978,
		50171538,
		52920938,
		55821005,
		58879996,
		62106619,
		65510061,
		69100012,
		72886692,
		76880882,
		81093954,
		85537902,
		90225379,
		95169729,
		100385030,
		105886129,
		111688688,
		117809228,
		124265173,
		131074904,
		138257808,
		145834335,
		153826056,
		162255723,
		171147336,
		180526210,
		190419046,
		200854009,
		211860808,
		223470780,
		235716978,
		248634268,
		262259425,
		276631241,
		291790633,
		307780759,
		324647144,
		342437807,
		361203398,
		380997344,
		401875998,
		423898802,
		447128456,
		471631095,
		497476479,
		524738190,
		553493842,
		583825304,
		615818930,
		649565807,
		685162013,
		722708891,
		762313338,
		804088108,
		848152136,
		894630873,
		943656644,
		995369028,
		1049915250,
		1107450605,
		1168138898,
		1232152909,
		1299674888,
		1370897071,
		1446022230,
		1525264248,
		1608848728

	};

	DWORD expOffSet = 0x006A7A28;

	
	void fixExpTable() {
		DWORD *p = (DWORD*)expOffSet;
		for(int i = 0; i < 200; i++){
			p[i] = (int) levels[i];
		}
		WvsGame::GetLogger()->Log("Fixed exp table.");
	}

	void hookExpTable() {
		Hook::hook(0x00572293, (DWORD)&fixExpTable);
	}

}